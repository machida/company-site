%header.main__header
  %h2.main__header-heading
    = t('Pages')
  = link_to new_staffs_page_path, {:class => "main__header-add-link large-button"} do
    %i.fa.fa-plus
    = t('New Page')
.main__body
  .main__search.main-search
    %input#js-search{:type => "text"}
    %nav.main-tabs-nav
      %ul.main-tabs-nav__tabs
        %li.main-tabs-nav__tab<>
          = link_to t('All'), staffs_pages_path, {:class => "main-tabs-nav__tab-link #{params[:published] ? '' : 'is-current'}"}
        %li.main-tabs-nav__tab<>
          = link_to t('Published'), staffs_pages_path(:published => "true"), {:class => "main-tabs-nav__tab-link #{params[:published] == 'true' ? 'is-current' : ''}"}
        %li.main-tabs-nav__tab<>
          = link_to t('Unpublished'), staffs_pages_path(:published => "false"), {:class => "main-tabs-nav__tab-link #{params[:published] == 'false' ? 'is-current' : ''}"}
  %table.main__table.main-table
    %tbody
      - @pages.each do |page|
        %tr.main-table__tr
          %td.main-table__td.js-search-target
            = link_to staffs_page_path(page) do
              = page.title
          %td.main-table__td= page.slug
          %td.main-table__td
            %ul.main-table-actions
              - if page.published?
                %li.main-table-actions__action.published
                  = link_to page_path(page) do
                    = t('Published')
              - else
                %li.main-table-actions__action.unpublished
                  = t('Unpublished')
              %li.main-table-actions__action
                = link_to t('Edit'), edit_staffs_page_path(page)
              %li.main-table-actions__action
                = link_to t('Destroy'), staffs_page_path(page), method: :delete, data: { confirm: 'Are you sure?' }
